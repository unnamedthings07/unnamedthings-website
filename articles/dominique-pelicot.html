<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case #001: The Pelicot Affair - Unnamed Things</title>
    <link rel="icon" type="image/jpeg" href="https://i.ibb.co/0jxSvdfH/channels4-profile.jpg">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Roboto:wght@300;400;700&family=Special+Elite&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. Variables & Reset --- */
        :root {
            --color-red: #CD201F;
            --color-red-dim: #8a1515;
            --color-red-glow: rgba(205, 32, 31, 0.6);
            
            --color-black: #020202;
            --color-dark-1: #0a0a0a;
            --color-dark-2: #141414;
            --color-platinum: #E0E0E0;
            --color-gray: #a0a0a0;
            --color-paper: #f0f0f0; 
            
            --font-heading: 'Oswald', sans-serif;
            --font-body: 'Roboto', sans-serif;
            --font-mono: 'Special Elite', cursive;
            
            --navbar-height: 70px;
            --ease-out: cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html { 
            scroll-behavior: smooth; 
            overflow-x: hidden;
            width: 100%;
        }
        
        body {
            font-family: var(--font-body);
            background-color: var(--color-black);
            background-image: 
                linear-gradient(rgba(0,0,0,0.85), rgba(0,0,0,0.95)),
                url('https://i.ibb.co/Z1M7M8m6/file-00000000ffe8720795dd0af80e4fa438.png');
            background-size: cover;
            background-position: center center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            color: var(--color-platinum);
            line-height: 1.6;
            width: 100%;
            overflow-x: hidden; 
            position: relative;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- Global Overlays --- */
        .noise-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }
        .crt-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: 
                radial-gradient(circle, rgba(0,0,0,0) 50%, rgba(0,0,0,0.4) 100%),
                linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.05) 50%);
            background-size: 100% 100%, 100% 4px;
            pointer-events: none;
            z-index: 9999;
        }

        /* --- Typography --- */
        h1, h2, h3, h4 {
            font-family: var(--font-heading);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
            color: var(--color-platinum);
            overflow-wrap: break-word; 
            word-wrap: break-word;
        }
        
        .text-red { color: var(--color-red); }
        a { text-decoration: none; color: inherit; transition: all 0.3s ease; }

        /* --- Animations --- */
        .reveal-up {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s var(--ease-out) forwards;
        }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
        .delay-1 { animation-delay: 0.2s; }
        .delay-2 { animation-delay: 0.4s; }

        /* Glitch Title */
        .glitch-wrapper { 
            position: relative; 
            display: block; 
            margin-bottom: 1rem; 
            max-width: 100%;
        }
        .glitch {
            font-family: var(--font-heading);
            font-size: clamp(1.8rem, 5vw, 3.5rem); 
            line-height: 1.1;
            color: #fff;
            position: relative;
            z-index: 2;
            word-wrap: break-word;
            overflow-wrap: break-word; 
        }
        
        .glitch::before, .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #111; 
            display: none; 
        }

        @media (min-width: 768px) {
            .glitch::before, .glitch::after { display: block; }
            .glitch::before {
                left: 2px;
                text-shadow: -1px 0 #00ffff;
                clip: rect(44px, 450px, 56px, 0);
                animation: glitch-anim 5s infinite linear alternate-reverse;
            }
            .glitch::after {
                left: -2px;
                text-shadow: -1px 0 #ff00ff;
                clip: rect(44px, 450px, 56px, 0);
                animation: glitch-anim2 5s infinite linear alternate-reverse;
            }
        }

        @keyframes glitch-anim {
            0% { clip: rect(10px, 9999px, 30px, 0); }
            20% { clip: rect(30px, 9999px, 10px, 0); }
            100% { clip: rect(50px, 9999px, 80px, 0); }
        }
        @keyframes glitch-anim2 {
            0% { clip: rect(80px, 9999px, 10px, 0); }
            20% { clip: rect(10px, 9999px, 50px, 0); }
            100% { clip: rect(30px, 9999px, 90px, 0); }
        }

        /* --- Layout --- */
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        /* --- Navbar --- */
        .navbar {
            position: fixed;
            top: 0; left: 0; width: 100%; height: var(--navbar-height);
            display: flex; justify-content: space-between; align-items: center; padding: 0 5%;
            z-index: 1000;
            background: rgba(5, 5, 5, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        .nav-brand { display: flex; align-items: center; gap: 10px; }
        .nav-logo {
            width: 40px; height: 40px; border-radius: 50%;
            border: 2px solid var(--color-red); transition: transform 0.3s ease;
        }
        .nav-brand:hover .nav-logo { transform: rotate(10deg); }
        .brand-text { font-family: var(--font-mono); font-size: 1.2rem; color: var(--color-white); letter-spacing: 1px; }
        .nav-links { display: flex; gap: 2rem; list-style: none; }
        .nav-link { font-family: var(--font-mono); font-size: 1.1rem; color: var(--color-platinum); position: relative; padding: 5px 0; transition: color 0.3s; }
        .nav-link:hover { color: var(--color-white); }
        .nav-link span { color: var(--color-red); }
        .nav-link::after { content: ''; position: absolute; bottom: 0; left: 0; width: 0%; height: 1px; background: var(--color-red); transition: width 0.3s ease; }
        .nav-link:hover::after { width: 100%; }
        
        /* --- Navbar Right-Side Actions --- */
.nav-actions {
    display: flex;
    align-items: center;
    gap: 15px;
}

/* Audio Button Styling */
.nav-audio-btn {
    background: transparent;
    border: 1px solid var(--color-red);
    color: var(--color-red);
    width: 40px; height: 40px;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    padding: 0;
}
.nav-audio-btn:hover {
    background: var(--color-red);
    color: #000;
    box-shadow: 0 0 15px var(--color-red);
}
.nav-audio-btn svg { width: 20px; height: 20px; fill: currentColor; }

/* Positioning Fix: Push links to right */
.nav-links {
    margin-left: auto; 
    margin-right: 2rem; 
}

/* Mobile Adjustments */
@media (max-width: 768px) {
    .nav-links { margin: 0; } 
    .nav-audio-btn { width: 35px; height: 35px; }
}

        /* Mobile Nav Toggle */
        .bar {
            display: block; 
            width: 25px; 
            height: 3px; 
            background: var(--color-red); 
            margin: 6px auto; 
            transition: 0.4s; 
        }
        .menu-toggle { display: none; cursor: pointer; padding: 10px; background: none; border: none; z-index: 1002; }

        /* --- Article Layout --- */
        main { padding-top: calc(var(--navbar-height) + 2rem); padding-bottom: 4rem; flex-grow: 1; }
        
        .article-container {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 3rem;
            position: relative; 
            align-items: start;
        }

        /* --- Main Content (The Case File) --- */
        .case-file-wrapper {
            background: #111;
            border: 1px solid #333;
            position: relative;
            padding: 3rem;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            max-width: 100%;
            overflow-wrap: break-word; 
        }
        /* Top Secret Stamp */
        .stamp-secret {
            position: absolute; top: 30px; right: 30px;
            border: 4px solid var(--color-red); color: var(--color-red);
            font-family: var(--font-heading); font-size: 2rem; font-weight: 700;
            padding: 10px 20px; transform: rotate(-15deg); opacity: 0.4;
            pointer-events: none; mix-blend-mode: color-dodge;
        }

        .article-header { border-bottom: 1px solid #333; padding-bottom: 2rem; margin-bottom: 2rem; }
        .case-number { font-family: var(--font-mono); color: #666; letter-spacing: 2px; display: block; margin-bottom: 0.5rem; }
        
        /* Article Meta */
        .article-meta { font-family: var(--font-mono); color: var(--color-red); font-size: 0.9rem; }

        /* Evidence Image */
        .evidence-photo-container {
            width: 100%; margin-bottom: 2rem; position: relative;
            border: 5px solid #fff; transform: rotate(-1deg);
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }
        /* Additional Image Styling */
        .inline-evidence-photo {
            width: 100%; max-width: 600px; display: block; margin: 2rem auto;
            border: 4px solid #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.6);
            filter: contrast(1.1) grayscale(20%); transition: filter 0.3s;
        }
        .inline-evidence-photo:hover { filter: contrast(1) grayscale(0%); }
        .rotate-left { transform: rotate(-2deg); }
        .rotate-right { transform: rotate(2deg); }

        .evidence-photo { width: 100%; display: block; filter: contrast(1.1) grayscale(100%); transition: filter 0.5s; }
        .evidence-photo:hover { filter: contrast(1) grayscale(0%); }

        /* Body Text */
        .article-body {
            font-family: var(--font-mono); 
            font-size: 1.1rem;
            color: #ddd;
            line-height: 1.8;
            word-wrap: break-word; 
            overflow-wrap: anywhere; 
        }
        .article-body h2 { color: var(--color-red); margin-top: 3.5rem; border-left: 3px solid var(--color-red); padding-left: 1rem; font-size: 1.8rem; border-bottom: 1px solid #333; padding-bottom: 0.5rem; }
        .article-body h3 { color: #fff; margin-top: 2rem; font-size: 1.4rem; font-family: var(--font-heading); }
        .article-body p { margin-bottom: 1.5rem; text-align: left; }
        
        .redacted {
            background: #000; color: #000; padding: 0 5px; cursor: help; transition: all 0.3s;
        }
        .redacted:hover { background: transparent; color: var(--color-red); text-decoration: underline; }

        /* Table Styles */
        .table-responsive { overflow-x: auto; margin: 2rem 0; border: 1px solid #333; width: 100%; display: block; }
        table { width: 100%; border-collapse: collapse; min-width: 600px; }
        th, td { text-align: left; padding: 12px; border-bottom: 1px solid #333; font-family: var(--font-mono); font-size: 0.9rem; }
        th { background: #1a1a1a; color: var(--color-red); text-transform: uppercase; font-family: var(--font-heading); letter-spacing: 1px; }
        tr:hover { background: #151515; }
        td:first-child { color: #fff; font-weight: bold; }

        /* --- Sidebar --- */
        .sidebar { 
            position: -webkit-sticky; position: sticky; 
            top: 100px; height: fit-content; 
            align-self: start; z-index: 100;
        }
        .sidebar-card {
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid #333;
            padding: 1.5rem;
            backdrop-filter: blur(5px);
        }
        .sidebar-title { font-family: var(--font-mono); color: var(--color-red); border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px; font-size: 1.1rem; }
        .toc-list { list-style: none; }
        .toc-item { margin-bottom: 10px; }
        .toc-link { 
            color: #888; font-family: var(--font-heading); text-transform: uppercase; font-size: 0.9rem; letter-spacing: 1px; display: block; padding: 5px 0;
            transition: all 0.2s;
        }
        .toc-link:hover { color: #fff; padding-left: 5px; border-left: 2px solid var(--color-red); }
        .btn-back { display: inline-block; margin-top: 2rem; color: #666; font-family: var(--font-mono); font-size: 0.9rem; }
        .btn-back:hover { color: var(--color-white); }

        /* --- Footer --- */
        .footer { background: #020202; padding: 60px 0; text-align: center; border-top: 1px solid #222; margin-top: auto; }
        .footer p { color: #666; font-size: 0.9rem; max-width: 500px; margin: 0 auto; }

        /* --- Interactive Timeline Styles --- */
        .timeline-container {
            position: relative;
            padding: 2rem 0;
            margin: 2rem 0;
            border-left: 2px solid #333;
            margin-left: 1rem;
        }

        .timeline-item {
            position: relative;
            padding-left: 2.5rem;
            margin-bottom: 3rem;
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.6s var(--ease-out);
        }

        .timeline-dot {
            position: absolute;
            left: -9px;
            top: 0;
            width: 16px;
            height: 16px;
            background-color: var(--color-black);
            border: 2px solid var(--color-red);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(205, 32, 31, 0.4);
            transition: all 0.3s ease;
            z-index: 1;
        }

        .timeline-item.active { opacity: 1; transform: translateX(0); }

        .timeline-item:hover .timeline-dot {
            background-color: var(--color-red);
            box-shadow: 0 0 15px var(--color-red);
            transform: scale(1.2);
        }

        .timeline-content {
            background: rgba(20, 20, 20, 0.6);
            border: 1px solid #333;
            padding: 1.5rem;
            border-radius: 4px;
            position: relative;
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            left: -8px;
            top: 6px;
            width: 15px;
            height: 15px;
            background: #111; 
            border-left: 1px solid #333;
            border-bottom: 1px solid #333;
            transform: rotate(45deg);
        }

        .timeline-date {
            font-family: var(--font-mono);
            color: var(--color-red);
            font-size: 0.9rem;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
            display: block;
            font-weight: bold;
        }

        .timeline-title {
            font-family: var(--font-heading);
            color: #fff;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }

        /* --- Reading Progress Bar --- */
        .progress-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px; 
            background: transparent;
            z-index: 1001;
        }

        .progress-bar {
            height: 100%;
            background: var(--color-red);
            width: 0%; 
            transition: width 0.1s linear; 
            box-shadow: 0 0 10px var(--color-red), 0 0 20px var(--color-red); 
        }

        /* --- FLOATING EVIDENCE INDEX (MOBILE) --- */
        /* Hidden on Desktop */
        .mobile-toc {
            display: none;
        }

        @media (max-width: 900px) {
            .article-container { grid-template-columns: 1fr; }
            .sidebar { display: none; }
            .case-file-wrapper { padding: 1.5rem; }
            .glitch { font-size: 1.8rem; }
            
            /* Enable Floating Widget */
            .mobile-toc { 
                display: block; 
                position: fixed;
                bottom: 25px; /* Floats above bottom */
                right: 20px; 
                z-index: 1002; /* High Z-Index to stay on top */
            }
            
            /* The Button (Summary) */
            .mobile-toc summary {
                background: var(--color-red-dim);
                color: #fff;
                padding: 12px 20px;
                border-radius: 50px; /* Pill shape */
                font-family: var(--font-heading);
                text-transform: uppercase;
                letter-spacing: 1px;
                font-size: 0.9rem;
                box-shadow: 0 5px 20px rgba(0,0,0,0.8);
                border: 1px solid var(--color-red);
                cursor: pointer;
                list-style: none;
                display: flex;
                align-items: center;
                gap: 10px;
                transition: all 0.3s ease;
            }
            .mobile-toc summary::after { content: '+'; font-weight: bold; font-size: 1.2rem; }
            .mobile-toc[open] summary { background: #111; border-color: #444; }
            .mobile-toc[open] summary::after { content: '-'; }

            /* The Popup List */
            .mobile-toc-list {
                position: absolute;
                bottom: 60px; /* Pushes list UP above button */
                right: 0;
                width: 260px;
                background: rgba(10, 10, 10, 0.95);
                backdrop-filter: blur(10px);
                border: 1px solid #333;
                border-radius: 8px;
                padding: 10px;
                margin: 0;
                list-style: none;
                box-shadow: 0 10px 40px rgba(0,0,0,1);
                animation: slideUp 0.3s ease-out;
            }
            
            .mobile-toc-item a {
                display: block;
                padding: 12px 10px;
                color: #ccc;
                font-family: var(--font-heading);
                font-size: 0.9rem;
                border-bottom: 1px solid rgba(255,255,255,0.05);
                text-decoration: none;
            }
            .mobile-toc-item a:hover { color: var(--color-red); padding-left: 15px; }
            .mobile-toc-item:last-child a { border-bottom: none; }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            /* --- 1. App-Like Mobile Menu --- */
            .menu-toggle { display: block; }
            
            .nav-links {
                position: fixed; top: 0; right: -100%; width: 85%; height: 100dvh;
                background: rgba(5, 5, 5, 0.98); backdrop-filter: blur(20px);
                flex-direction: column; justify-content: flex-start; padding-top: 120px; 
                align-items: center; gap: 2rem;
                transition: right 0.4s cubic-bezier(0.77, 0, 0.175, 1); border-left: 1px solid #333;
                box-shadow: -10px 0 40px rgba(0,0,0,0.8); z-index: 1001;
            }
            .nav-links.active { right: 0; }
            .nav-link { font-size: 1.5rem; padding: 15px 0; width: 100%; text-align: center; }

            /* Menu Animation */
            .menu-toggle.active .bar:nth-child(1) { transform: rotate(-45deg) translate(-5px, 6px); }
            .menu-toggle.active .bar:nth-child(2) { opacity: 0; }
            .menu-toggle.active .bar:nth-child(3) { transform: rotate(45deg) translate(-5px, -6px); }

            /* --- 2. Article Layout Optimization --- */
            .container { width: 100%; padding: 0; } 
            
            .case-file-wrapper { 
                border-left: none; border-right: none; 
                border-radius: 0;
                padding: 2rem 1.25rem; 
                margin-top: -1rem; 
            }
            
            .stamp-secret { 
                font-size: 0.8rem; 
                top: 10px; right: 10px; 
                border-width: 2px; padding: 4px 8px; 
                opacity: 0.6;
            }
            
            /* FIX: Remove rotation on mobile images to prevent overflow */
            .evidence-photo-container { transform: none; border-width: 2px; }
            .inline-evidence-photo { transform: none; }
            
            /* --- 3. Readable Typography --- */
            .article-body { font-size: 1.05rem; line-height: 1.7; color: #e0e0e0; }
            .article-body p { margin-bottom: 1.25rem; }
            .article-body h2 { font-size: 1.5rem; margin-top: 2.5rem; border-left-width: 4px; padding-left: 12px; }

            /* --- 4. Interactive Elements --- */
            /* Timeline: Ensure dots are visible and text aligns */
            .timeline-container { margin-left: 5px; border-left-width: 2px; }
            .timeline-item { padding-left: 20px; margin-bottom: 2.5rem; }
            .timeline-dot { width: 12px; height: 12px; left: -7px; }
            .timeline-date { font-size: 0.8rem; letter-spacing: 0.5px; }
            
            /* Table: Fix width calculation for mobile */
            .table-responsive { 
                width: 100vw; 
                margin-left: -1.25rem; /* Counteract padding */
                margin-right: -1.25rem;
                border-left: 0; border-right: 0; border-radius: 0;
                margin-top: 2rem; margin-bottom: 2rem;
            }
        }
    </style>
</head>
<body>

    <div class="noise-overlay"></div>
    <div class="crt-overlay"></div>

    <nav class="navbar" id="navbar">
    <a href="https://www.unnamedthings07.qzz.io" class="nav-brand">
        <img src="https://i.ibb.co/0jxSvdfH/channels4-profile.jpg" alt="Logo" class="nav-logo">
        <span class="brand-text"><span class="text-red">U</span>nnamed <span class="text-red">T</span>hings</span>
    </a>
    
    <ul class="nav-links">
        <li><a href="https://www.unnamedthings07.qzz.io/videos/video-page" class="nav-link"><span>V</span>ideos</a></li>
        <li><a href="https://www.unnamedthings07.qzz.io/articles/articles-page" class="nav-link active"><span>A</span>rticles</a></li>
        <li><a href="https://www.unnamedthings07.qzz.io/contact" class="nav-link"><span>C</span>onnect</a></li>
    </ul>
    <div class="user-menu-container">
    <a href="/login.html" id="navLoginBtn" class="nav-btn-text">LOGIN</a>

    <div id="navProfile" class="nav-profile" style="display: none;">
        <img id="navAvatar" src="" alt="User" class="nav-avatar-img">
        
        <div class="profile-dropdown">
            <div class="dropdown-header">
                <span id="dropdownName">AGENT NAME</span>
                <span id="dropdownEmail" style="font-size:0.7rem; color:#666;">agent@email.com</span>
            </div>
            <button id="navLogoutBtn" class="dropdown-item">DISCONNECT</button>
        </div>
    </div>
</div>

<style>
    .user-menu-container { position: relative; margin-right: 15px; display: flex; align-items: center; }
    
    .nav-btn-text {
        font-family: var(--font-heading); color: var(--color-platinum); 
        border: 1px solid #333; padding: 5px 15px; font-size: 0.9rem;
        transition: all 0.3s;
    }
    .nav-btn-text:hover { background: var(--color-red); color: #fff; border-color: var(--color-red); }

    .nav-profile { cursor: pointer; position: relative; }
    .nav-avatar-img { 
        width: 35px; height: 35px; border-radius: 50%; 
        border: 2px solid #333; transition: border 0.3s;
    }
    .nav-profile:hover .nav-avatar-img { border-color: var(--color-red); }

    /* Dropdown Logic */
    .profile-dropdown {
        display: none; /* Hidden by default */
        position: absolute; top: 120%; right: 0;
        width: 200px;
        background: rgba(10, 10, 10, 0.95);
        border: 1px solid #333;
        backdrop-filter: blur(10px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        padding: 10px; z-index: 2000;
    }
    
    .nav-profile:hover .profile-dropdown { display: block; } /* Show on Hover */

    .dropdown-header { 
        padding: 10px; border-bottom: 1px solid #333; margin-bottom: 5px; 
        display: flex; flex-direction: column; 
    }
    #dropdownName { font-family: var(--font-heading); color: var(--color-red); }
    
    .dropdown-item {
        width: 100%; background: none; border: none; text-align: left;
        color: #ccc; font-family: var(--font-mono); font-size: 0.9rem;
        padding: 8px 10px; cursor: pointer; transition: color 0.3s;
    }
    .dropdown-item:hover { color: #fff; background: rgba(255,255,255,0.05); }
</style>
    <div class="nav-actions">
        <button id="staticAudioBtn" class="nav-audio-btn" aria-label="Toggle Audio">
            <svg id="iconMute" viewBox="0 0 24 24"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7.03-8.77v2.06c2.89.86 5.03 4.05 5.03 7.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73 4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>
            <svg id="iconSound" viewBox="0 0 24 24" style="display:none;"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5.03 4.05 5.03 7.71s-2.14 6.85-5.03 7.71v2.06c4.01-.91 7.03-4.49 7.03-8.77s-3.02-7.86-7.03-8.77z"/></svg>
        </button>

        <button class="menu-toggle" aria-label="Toggle Menu">
            <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </button>
    </div>
    
    <div class="progress-container">
        <div class="progress-bar" id="readingProgress"></div>
    </div>
</nav>

    <details class="mobile-toc">
        <summary>CASE INDEX</summary>
        <ul class="mobile-toc-list">
            <li class="mobile-toc-item"><a href="#discovery">01. The Discovery</a></li>
            <li class="mobile-toc-item"><a href="#architect">02. The Architect</a></li>
            <li class="mobile-toc-item"><a href="#chronology">03. The Chronology</a></li>
            <li class="mobile-toc-item"><a href="#everyman">04. The 50 Men</a></li>
            <li class="mobile-toc-item"><a href="#trial">05. The Trial</a></li>
            <li class="mobile-toc-item"><a href="#verdict">06. The Verdict</a></li>
            <li class="mobile-toc-item"><a href="#aftermath">07. Legacy</a></li>
        </ul>
    </details>

    <main>
        <div class="container article-container">
            
            <article class="case-file-wrapper reveal-up">
                <div class="stamp-secret">CONFIDENTIAL</div>
                
                <header class="article-header">
                    <span class="case-number">CASE FILE ID: 001-DP-FR</span>
                    
                    <div class="glitch-wrapper">
                        <h1 class="glitch" data-text="Anatomy of a Betrayal: The Complete Report on the Pelicot Case">Anatomy of a Betrayal: The Complete Report on the Pelicot Case</h1>
                    </div>

                    <div class="article-meta">
                        <span>FILED BY: UNNAMED THINGS</span> | <span>STATUS: CLOSED</span>
                    </div>
                </header>

                <div class="evidence-photo-container">
                    <img src="https://i.ibb.co/KpRT9St4/dominique-1.jpg" alt="Dominique Pelicot Evidence Photo" class="evidence-photo">
                </div>

                <div class="article-body">
                    
                    <p>
                        For nearly 50 years, Gisèle Pelicot lived a life she believed was built on love and trust. Her husband, Dominique Pelicot, was, in her words, "someone I trusted entirely". He was a doting family man, a retired electrician who organized surprise birthday parties and was seen as a "role model" by his children's friends.
                    </p>
                    <p>
                        But that trust, and the life it supported, was annihilated on November 2, 2020. In a stark police interrogation room, Gisèle Pelicot was shown a video. On the screen, she saw her own unconscious body, "limp and inert," being raped by a stranger in her own bed. As she later testified, her world simply collapsed.
                    </p>
                    
                    <img src="https://i.ibb.co/Kc5d9vMj/gisele-1.jpg" alt="Gisele Pelicot" class="inline-evidence-photo rotate-left">

                    <p>
                        What unfolded next was the revelation of one of the most extensive and horrifying cases of serial rape in modern French history—a decade-long criminal enterprise orchestrated by her husband, involving dozens of men, and meticulously documented in a digital archive of over 20,000 files. This is the complete story of the case that shattered a family and forced a nation to confront the very definition of consent.
                    </p>
                    
                    <h2 id="discovery">I. The Discovery: A Supermarket Arrest</h2>
                    <p>
                        The decade of systematic abuse was not uncovered by a victim's complaint. It was exposed by chance, stemming from a banal act of voyeurism.
                    </p>
                    <p>
                        On September 12, 2020, Dominique Pelicot, 71, was arrested at a supermarket in Carpentras, near his home in Mazan, Provence. A security guard had observed him "upskirting"—using a hidden camera in a black bag to surreptitiously film up women's skirts. When apprehended, Pelicot, who looked like a "poor innocent" man with "puppy eyes," told police he had an "urge" because his wife was away.
                    </p>
                    <p>
                        This was not his first offense. He had a prior arrest for a similar incident in 2010, near the couple's former home. This time, however, investigators had a "hunch" and decided to look deeper into the pensioner's confiscated phones and computer.
                    </p>
                    <p>
                        What they found was not a simple collection of voyeuristic images. It was a <span class="redacted">"library of images"</span>, a meticulously curated digital archive of over 20,000 photos and videos. The files were obsessively cataloged in folders, including one titled "abuse" and another labeled "her rapists".
                    </p>
                    <p>
                        The "abuse" folder contained videos documenting over 200 rapes of Gisèle Pelicot. The videos, filmed by her husband, showed her in a "coma-like state," "limp and inert," and snoring loudly. Investigators ultimately counted 72 distinct abusers in the recordings, though not all could be identified.
                    </p>

                    <h2 id="architect">II. The Architect: Dominique Pelicot</h2>
                    <p>
                        The case is defined by the chasm between Dominique Pelicot's public persona and his private reality as a systemic predator.
                    </p>
                    
                    <img src="https://i.ibb.co/b5njS0Cq/dominique-2.jpg" alt="Dominique Pelicot" class="inline-evidence-photo rotate-right">

                    <h3>Modus Operandi: Weaponizing Trust and Medicine</h3>
                    <p>
                        The abuse began around 2011, after Gisèle Pelicot was prescribed Lorazepam (Temesta), an anti-anxiety medication, by her doctor. Dominique Pelicot would crush this and other <span class="redacted">sleeping tablets</span>, mixing the powder into his wife's food and drink.
                    </p>
                    <p>
                        He drugged her coffee, her mashed potatoes, and even her favorite raspberry ice cream, which he would bring to her in bed—an act she interpreted at the time as one of love and care. Once she was unconscious, he would get to work.
                    </p>
                    <p>
                        He used the unmoderated French chat site "Coco" (since shut down by authorities) to find his accomplices. He frequented a specific chatroom on the site named "Against her knowledge" and sent explicit messages to other men, such as: "I’m looking for a pervert accomplice to abuse my wife who’s been put to sleep" and "You’re like me, you like rape mode".
                    </p>
                    <p>
                        During the rapes, Pelicot would film, often while making degrading comments about "the slut" off-camera. He would prop notes on her inert body with messages like "Service slut" and "Whore".
                    </p>

                    <h3>Systemic Predation</h3>
                    <p>
                        Pelicot's predation was not confined to his wife. The police investigation revealed his crimes targeted every woman in his family.
                    </p>
                    <p>
                        <strong>Family Voyeurism:</strong> He was found guilty of taking indecent images of his two daughters-in-law and his adult daughter. He hid cameras to secretly film his son's wives in their bathrooms, including when one was pregnant with twins, and photographed his daughter asleep and semi-naked.
                    </p>
                    <p>
                        <strong>"Teaching" his Method:</strong> Pelicot was also found guilty of the rape of the wife of co-defendant Jean-Pierre Maréchal. Most disturbingly, he had taught Maréchal how to use the same drugging technique, which Maréchal then used on his own wife for five years, inviting Pelicot to participate.
                    </p>

                    <img src="https://i.ibb.co/8LG8qG9K/dominique-pelicot-1.jpg" alt="Dominique Pelicot in Court" class="inline-evidence-photo rotate-left">

                    <h2 id="chronology">III. A Decade of Drugged Abuse: Chronology</h2>
                    <p>The period of abuse documented by Pelicot's archive spanned nearly a decade, from July 2011 to October 2020.</p>
                    <div class="timeline-container">
    
    <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
            <span class="timeline-date">JULY 23, 2011</span>
            <h4 class="timeline-title">The First Violation</h4>
            <p>The first documented rape involving an accomplice occurred at the Pelicots' home in Villiers-sur-Marne. This marks the known beginning of the systematic recruitment strategy.</p>
        </div>
    </div>

    <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
            <span class="timeline-date">2011 - 2020</span>
            <h4 class="timeline-title">A Decade of Shadows</h4>
            <p>The abuse spanned three different residences (Mazan, Villiers-sur-Marne, Île de Ré) and even their daughter's beach house. Gisèle experienced this era as a "fog of unexplained fatigue."</p>
        </div>
    </div>

    <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
            <span class="timeline-date">SEPTEMBER 12, 2020</span>
            <h4 class="timeline-title">The Supermarket Arrest</h4>
            <p>Dominique Pelicot is caught filming up skirts in a Carpentras supermarket. Police seize his devices on a "hunch," unlocking the digital archive.</p>
        </div>
    </div>

    <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
            <span class="timeline-date">OCTOBER 22, 2020</span>
            <h4 class="timeline-title">The Final Act</h4>
            <p>Despite his arrest weeks prior, the compulsion continued. The last recorded abuse occurred just days before police uncovered the full extent of the "library of images."</p>
        </div>
    </div>

</div>
                    <p>
                        For Gisèle, this decade was experienced as a fog of unexplained fatigue. She had no conscious memory of the acts. "I would wake up with my pyjamas on," she testified, explaining her husband would dress her after the assaults. "The mornings I must have been more tired than usual, but I walk a lot and thought it was that".
                    </p>

                    <h2 id="everyman">IV. The 50 "Mr. Everymans"</h2>
                    <p>
                        Following the discovery of the archive, police launched a vast investigation, leading to three major waves of arrests in February, March, and September 2021. In total, 50 men were identified and brought to trial alongside Dominique Pelicot. They were dubbed "Monsieur Tout-le-Monde," or "Mr. Everyman," because their "ordinariness" was a central horror of the case.
                    </p>
                    <p>
                        Their ages ranged from 26 to 74. Their professions spanned all sectors of society: firefighters, journalists, students, prison guards, nurses, soldiers, local councillors, truck drivers, carpenters, and IT workers. Most lived within a 40-mile radius of the Pelicots' home in Mazan.
                    </p>
                    <p>
                        However, the "Mr. Everyman" narrative, while sociologically shocking, was not entirely accurate. Of the 50 co-defendants, 23 had a prior criminal record for various offenses. More significantly, six had prior convictions for domestic violence, and two had prior convictions for sexual violence.
                    </p>

                    <h2 id="trial">V. "Shame Must Change Sides": The Trial</h2>
                    <p>
                        The trial began on September 2, 2024, in Avignon. From the outset, the case shifted from a story of victimization to one of extraordinary agency. Gisèle Pelicot, the woman whose identity was erased for a decade, seized control of the narrative.
                    </p>
                    
                    <img src="https://i.ibb.co/4nH0Wvgh/gisele-2.jpg" alt="Gisele Pelicot Arriving at Court" class="inline-evidence-photo rotate-right">

                    <p>
                        In a move that stunned the legal establishment, she waived her right to anonymity and insisted on a public trial. Her public motto, repeated by supporters, became <span class="redacted">"Shame must change sides"</span>.
                    </p>
                    <p>
                        "When you’re raped there is shame," she explained, "and it’s not for us to have shame – it’s for them". She wanted to transform her personal trauma into a public lesson, stating, "I wanted all of society to be a witness". She insisted the "undeniable evidence" —the "stomach-churning" videos of her own rapes—be shown in open court.
                    </p>

                    <img src="https://i.ibb.co/BKvFJ7yK/gisele-3.jpg" alt="Gisele Pelicot in Court" class="inline-evidence-photo rotate-left">

                    <h2 id="verdict">VI. The Verdict (December 19, 2024)</h2>
                    <p>
                        On December 19, 2024, after more than three months of harrowing testimony, lead judge Roger Arata read the verdicts. All 51 defendants were found guilty.
                    </p>
                    
                    <img src="https://i.ibb.co/Ldtb45FV/dominique-3.webp" alt="Dominique Pelicot Verdict" class="inline-evidence-photo rotate-right">

                    <p>
                        <strong>Dominique Pelicot:</strong> Found guilty on all charges, including the aggravated rapes of his wife, the rape of Mrs. Maréchal, and taking indecent images of his daughter and daughters-in-law. He was given the maximum possible sentence: 20 years in prison. He will not be eligible for parole until he has served two-thirds of his sentence.
                    </p>
                    <p>
                        The 50 Co-Defendants: All 50 were convicted, receiving prison sentences ranging from 3 to 15 years.
                    </p>

                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Defendant</th>
                                    <th>Age</th>
                                    <th>Occupation</th>
                                    <th>Sentence</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Dominique Pelicot</td><td>72</td><td>Ret. Electrician</td><td>20 Years</td></tr>
                                <tr><td>Jean-Pierre Maréchal</td><td>63</td><td>Garden Store Worker</td><td>12 years</td></tr>
                                <tr><td>Romain Vandevelde</td><td>63</td><td>Pensioner</td><td>15 years</td></tr>
                                <tr><td>Charly Arbo</td><td>30</td><td>Temp Worker</td><td>13 years</td></tr>
                                <tr><td>Dominique Davies</td><td>45</td><td>Truck Driver</td><td>13 years</td></tr>
                                <tr><td>Jerome Vilela</td><td>46</td><td>Fmr. Firefighter</td><td>13 years</td></tr>
                                <tr><td>Cedric Grassot</td><td>50</td><td>---</td><td>12 years</td></tr>
                                <tr><td>Hassan Ouamou</td><td>30</td><td>---</td><td>12 years</td></tr>
                                <tr><td>Thierry Postat</td><td>61</td><td>---</td><td>12 years</td></tr>
                                <tr><td>Fabien Sotto</td><td>39</td><td>Homeless</td><td>11 years</td></tr>
                                <tr><td>Vincent Coullet</td><td>43</td><td>Carpenter</td><td>10 years</td></tr>
                                <tr><td>Nizar Hamida</td><td>41</td><td>Delivery Driver</td><td>10 years</td></tr>
                                <tr><td>Joan Kawai</td><td>27</td><td>Soldier</td><td>10 years</td></tr>
                                <tr><td>Jean-Luc La</td><td>46</td><td>---</td><td>10 years</td></tr>
                                <tr><td>Karim Sebaoui</td><td>40</td><td>IT Worker</td><td>10 years</td></tr>
                                <tr><td>Redouane Azougagh</td><td>40</td><td>---</td><td>9 years</td></tr>
                                <tr><td>Cyril Beaubis</td><td>47</td><td>Lorry Driver</td><td>9 years</td></tr>
                                <tr><td>Husamettin Dogan</td><td>43</td><td>Construction Worker</td><td>9 years</td></tr>
                                <tr><td>Christian Lescole</td><td>57</td><td>---</td><td>9 years</td></tr>
                                <tr><td>Simoné Mekenes</td><td>43</td><td>Construction Worker</td><td>9 years</td></tr>
                                <tr><td>Cendric Venzin</td><td>44</td><td>Restaurant Manager</td><td>9 years</td></tr>
                                <tr><td>Abdelali Dallal</td><td>47</td><td>---</td><td>8 years (suspended)</td></tr>
                                <tr><td>Mahdi Daoudi</td><td>36</td><td>Transport Worker</td><td>8 years</td></tr>
                                <tr><td>Cyrille Delville</td><td>54</td><td>Construction Worker</td><td>8 years</td></tr>
                                <tr><td>Omar Douiri</td><td>36</td><td>Cleaner</td><td>8 years</td></tr>
                                <tr><td>Redouan El Farihi</td><td>55</td><td>Nurse</td><td>8 years</td></tr>
                                <tr><td>Nicolas Francois</td><td>42</td><td>Freelance Journalist</td><td>8 years</td></tr>
                                <tr><td>Boris Moulin</td><td>37</td><td>Cleaner</td><td>8 years</td></tr>
                                <tr><td>Patrice Nicolle</td><td>55</td><td>Electrician</td><td>8 years</td></tr>
                                <tr><td>Thierry Parisis</td><td>54</td><td>Mason</td><td>8 years</td></tr>
                                <tr><td>Mohamed Rafaa</td><td>70</td><td>Former DJ</td><td>8 years</td></tr>
                                <tr><td>Lionel Rodriguez</td><td>44</td><td>Supermarket Worker</td><td>8 years</td></tr>
                                <tr><td>Gregory Serviol</td><td>31</td><td>Plasterer</td><td>8 years</td></tr>
                                <tr><td>Ahmed Tbarik</td><td>54</td><td>Plumber</td><td>8 years</td></tr>
                                <tr><td>Jean Tirano</td><td>52</td><td>Roof Mechanic</td><td>8 years</td></tr>
                                <tr><td>Paul Grovogui</td><td>31</td><td>---</td><td>8 years</td></tr>
                                <tr><td>Ludovick Blemeur</td><td>39</td><td>Warehouse Worker</td><td>7 years</td></tr>
                                <tr><td>Mathieu Dartus</td><td>53</td><td>Baker</td><td>7 years</td></tr>
                                <tr><td>Quentin Hennebert</td><td>34</td><td>Former Prison Guard</td><td>7 years</td></tr>
                                <tr><td>Florian Rocca</td><td>32</td><td>---</td><td>7 years</td></tr>
                                <tr><td>Patrick Aron</td><td>60</td><td>Unemployed</td><td>6 years</td></tr>
                                <tr><td>Cyprien Culieras</td><td>44</td><td>Forklift Operator</td><td>6 years</td></tr>
                                <tr><td>Jean-Marc Leloup</td><td>74</td><td>Retired Truck Driver</td><td>6 years</td></tr>
                                <tr><td>Adrien Longeron</td><td>34</td><td>---</td><td>6 years</td></tr>
                                <tr><td>Andy Rodriguez</td><td>37</td><td>Unemployed</td><td>6 years</td></tr>
                                <tr><td>Hugues Malago</td><td>39</td><td>Tiler</td><td>5 years</td></tr>
                                <tr><td>Didier Sambuchi</td><td>67</td><td>Retired Truck Driver</td><td>5 years</td></tr>
                                <tr><td>Jacques Cubeau</td><td>73</td><td>Retired Firefighter</td><td>5 years (3 suspended)</td></tr>
                                <tr><td>Philippe Leleu</td><td>62</td><td>---</td><td>5 years (2 suspended)</td></tr>
                                 <tr><td>Joseph Cocco</td><td>69</td><td>---</td><td>3 years</td></tr>
                                <tr><td>Saifeddine Ghabi</td><td>36</td><td>Truck Driver</td><td>3 years</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <h2 id="aftermath">VII. Aftermath and Legacy</h2>
                    
                    <img src="https://i.ibb.co/Dg4rZJYZ/gisele-4.jpg" alt="Gisele Pelicot Aftermath" class="inline-evidence-photo rotate-left">

                    <p>
                        Following the verdicts, Gisèle Pelicot read a prepared statement outside the court. She reaffirmed her decision to go public: "I wanted all of society to be a witness... I'll never regret this decision". She added, "I have confidence in our capacity... to find a better future, in which men and women alike can live harmlessly together with mutual respect".
                    </p>
                    <p>
                        The case has had a profound, lasting impact on French society, sparking a nationwide debate that forced a reckoning with the fact that "consent is notably absent" from the formal definition of rape in French law. This led French President Emmanuel Macron to vow that he would inscribe "consent" into law.
                    </p>
                    <p>
                        Gisèle Pelicot's legacy is the success of her stated mission. She endured the humiliation of the trial to provide "undeniable evidence," not just of a crime, but of a culture that enables it. In forcing the shame back onto the perpetrators, she fundamentally altered the terms of the debate for all victims who follow.
                    </p>
                    
                    <p style="margin-top: 3rem; border-top: 1px solid #333; padding-top: 1rem; font-style: italic; color: #666;">
                        End of Full Report.
                    </p>
                </div>
            </article>

            <aside class="sidebar reveal-up delay-1">
                <div class="sidebar-card">
                    <h3 class="sidebar-title">EVIDENCE INDEX</h3>
                    <ul class="toc-list">
                        <li class="toc-item"><a href="#discovery" class="toc-link">01. The Discovery</a></li>
                        <li class="toc-item"><a href="#architect" class="toc-link">02. The Architect</a></li>
                        <li class="toc-item"><a href="#chronology" class="toc-link">03. The Chronology</a></li>
                        <li class="toc-item"><a href="#everyman" class="toc-link">04. The 50 Men</a></li>
                        <li class="toc-item"><a href="#trial" class="toc-link">05. The Trial</a></li>
                        <li class="toc-item"><a href="#verdict" class="toc-link">06. The Verdict</a></li>
                        <li class="toc-item"><a href="#aftermath" class="toc-link">07. Legacy</a></li>
                    </ul>
                    <a href="https://www.unnamedthings07.qzz.io/articles/articles-page" class="btn-back">&larr; Return to Archives</a>
                </div>
            </aside>

        </div>
        <section class="container" style="margin-top: 4rem; padding-top: 2rem; border-top: 1px solid #333;">
    <h3 class="glitch" style="font-size: 1.5rem; margin-bottom: 2rem;">CLASSIFIED DISCUSSION LOG</h3>

    <div class="comment-box">
        <div id="loginOverlay" style="display:none; text-align:center; padding: 3rem;">
            <p style="color:#888; margin-bottom:1.5rem; font-family:var(--font-mono);">AUTHENTICATION REQUIRED TO CONTRIBUTE</p>
            <a href="/login.html" class="btn-login-trigger">LOGIN TO DISCUSS</a>
        </div>

        <div id="commentFormContainer" style="display:none;">
            <div class="input-row">
                <img id="currentUserAvatar" src="" class="user-avatar-small">
                <div class="input-wrapper">
                    <textarea id="mainCommentInput" placeholder="Add a public comment..." rows="1"></textarea>
                    <div class="form-actions">
                        <button id="cancelMainBtn" style="display:none;">CANCEL</button>
                        <button id="submitMainBtn" disabled>COMMENT</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="commentsFeed" class="comments-feed">
        <div class="loading-text">LOADING INTELLIGENCE...</div>
    </div>
</section>

<style>
    /* --- NEW PROFESSIONAL UI --- */
    .comment-box { margin-bottom: 3rem; position: relative; }
    
    .btn-login-trigger {
        background: var(--color-red); color: #fff; padding: 12px 30px; 
        font-family: var(--font-heading); text-decoration: none; border-radius: 4px;
        transition: all 0.3s;
    }
    .btn-login-trigger:hover { background: #ff3333; box-shadow: 0 0 20px rgba(205, 32, 31, 0.4); }

    .input-row { display: flex; gap: 15px; align-items: flex-start; }
    .user-avatar-small { 
        width: 40px; height: 40px; border-radius: 50%; object-fit: cover; 
        border: 2px solid #333; flex-shrink: 0;
    }

    .input-wrapper { flex-grow: 1; }
    
    textarea {
        width: 100%; background: transparent; border: none; border-bottom: 1px solid #444;
        color: #fff; font-family: var(--font-body); font-size: 1rem; padding: 10px 0;
        outline: none; resize: none; min-height: 30px; transition: border 0.3s;
    }
    textarea:focus { border-bottom-color: var(--color-red); }

    .form-actions { 
        display: flex; justify-content: flex-end; gap: 10px; margin-top: 10px; 
        opacity: 0; pointer-events: none; transition: opacity 0.3s; 
    }
    /* Show actions when typing */
    .input-wrapper.active .form-actions { opacity: 1; pointer-events: all; }

    button {
        padding: 8px 16px; border-radius: 20px; font-family: var(--font-heading); 
        font-size: 0.9rem; cursor: pointer; border: none;
    }
    #cancelMainBtn { background: transparent; color: #aaa; }
    #cancelMainBtn:hover { color: #fff; }
    #submitMainBtn { background: #333; color: #777; cursor: not-allowed; }
    #submitMainBtn.ready { background: var(--color-red); color: #fff; cursor: pointer; }

    /* --- COMMENT FEED --- */
    .comment-thread { margin-bottom: 2rem; animation: fadeIn 0.5s ease; }
    .comment-main { display: flex; gap: 15px; }
    
    .comment-body { flex-grow: 1; }
    .comment-header { margin-bottom: 5px; font-size: 0.9rem; }
    .author-name { color: #fff; font-weight: bold; margin-right: 8px; text-decoration: none; }
    .comment-time { color: #666; font-size: 0.8rem; }
    .comment-content { color: #ddd; font-size: 1rem; line-height: 1.5; margin-bottom: 8px; white-space: pre-wrap; }
    
    .comment-actions { display: flex; gap: 15px; align-items: center; }
    .action-btn { 
        background: none; border: none; color: #aaa; font-size: 0.8rem; 
        cursor: pointer; font-family: var(--font-heading); padding: 0;
    }
    .action-btn:hover { color: #fff; }

    /* --- REPLIES --- */
    .replies-container { margin-left: 55px; margin-top: 15px; border-left: 2px solid #222; padding-left: 15px; }
    .reply-form-container { margin-top: 15px; display: none; } /* Hidden by default */
    
    .loading-text { text-align: center; color: #444; font-family: var(--font-mono); }
    @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
</style>
    </main>

    <footer class="footer">
        <div class="container">
            <p>UNNAMED THINGS // ARCHIVE TERMINAL</p>
            <p style="font-size: 0.8rem; margin-top: 10px;">Access Logged. Connection Secure.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        
        // --- 1. Mobile Menu Logic ---
        const menuToggle = document.querySelector('.menu-toggle');
        const navLinks = document.querySelector('.nav-links');

        if(menuToggle) {
            menuToggle.addEventListener('click', () => {
                menuToggle.classList.toggle('active');
                navLinks.classList.toggle('active');
                
                // Toggle Scroll Lock
                if (navLinks.classList.contains('active')) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            });

            // Close menu when link is clicked
            document.querySelectorAll('.nav-link').forEach(n => n.addEventListener('click', () => {
                menuToggle.classList.remove('active');
                navLinks.classList.remove('active');
                document.body.style.overflow = '';
            }));
        }

        // --- 2. Interactive Timeline Observer ---
        const timelineItems = document.querySelectorAll('.timeline-item');
        
        if (timelineItems.length > 0) {
            const timelineObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                root: null,
                threshold: 0.2, 
                rootMargin: "0px 0px -50px 0px"
            });

            timelineItems.forEach(item => {
                timelineObserver.observe(item);
            });
        }

        // --- 3. Reading Progress Bar Logic ---
        const progressBar = document.getElementById('readingProgress');
        
        if (progressBar) {
            window.addEventListener('scroll', () => {
                const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrollPercentage = (scrollTop / scrollHeight) * 100;
                progressBar.style.width = scrollPercentage + "%";
            });
        }
    });
    // --- 4. SMART AUDIO AUTOPLAY SYSTEM ---
    const audioBtn = document.getElementById('staticAudioBtn');
    const bgAudio = document.getElementById('bgAudio');
    const iconMute = document.getElementById('iconMute');
    const iconSound = document.getElementById('iconSound');
    let isPlaying = false;

    // Helper: Update the Visual Button State
    function updateAudioUI(playing) {
        if (playing) {
            iconMute.style.display = 'none';
            iconSound.style.display = 'block';
            audioBtn.style.boxShadow = "0 0 20px var(--color-red)";
        } else {
            iconMute.style.display = 'block';
            iconSound.style.display = 'none';
            audioBtn.style.boxShadow = "none";
        }
    }

    // Helper: Function to Start Audio
    function startAudio() {
        bgAudio.play().then(() => {
            isPlaying = true;
            updateAudioUI(true);
        }).catch(error => {
            // If blocked, wait for the FIRST user click anywhere to start
            document.addEventListener('click', () => {
                if (!isPlaying) {
                    bgAudio.play();
                    isPlaying = true;
                    updateAudioUI(true);
                }
            }, { once: true });
        });
    }

    if(audioBtn && bgAudio) {
        // 1. Try to play immediately on load
        startAudio();

        // 2. Manual Toggle Button Logic
        audioBtn.addEventListener('click', (e) => {
            e.stopPropagation(); 
            if (!isPlaying) {
                bgAudio.play();
                isPlaying = true;
                updateAudioUI(true);
            } else {
                bgAudio.pause();
                isPlaying = false;
                updateAudioUI(false);
            }
        });
    }
    </script>
    <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  // ADDED: 'deleteDoc' and 'doc' to imports
  import { getFirestore, collection, addDoc, deleteDoc, doc, query, where, orderBy, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  // YOUR CONFIG
  const firebaseConfig = {
    apiKey: "AIzaSyDwIMRuv26pcAndpd36EkLbUpSGvh6ptSY",
    authDomain: "unnamed-things-website-70cf7.firebaseapp.com",
    projectId: "unnamed-things-website-70cf7",
    storageBucket: "unnamed-things-website-70cf7.firebasestorage.app",
    messagingSenderId: "293788800527",
    appId: "1:293788800527:web:575a1fd1f60d6361f3357a"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const auth = getAuth(app);
  
  const ARTICLE_ID = "dominique-pelicot";
  let currentUser = null;

  // --- 1. AUTH STATE & UI ---
  onAuthStateChanged(auth, (user) => {
    const overlay = document.getElementById('loginOverlay');
    const form = document.getElementById('commentFormContainer');
    const avatar = document.getElementById('currentUserAvatar');
    const navLoginBtn = document.getElementById('navLoginBtn'); 
    const navProfile = document.getElementById('navProfile');

    if (user) {
        currentUser = user;
        if(overlay) overlay.style.display = 'none';
        if(form) form.style.display = 'block';
        if(avatar) avatar.src = user.photoURL || "https://i.ibb.co/0jxSvdfH/channels4-profile.jpg";
        
        // Navbar Update
        if(navLoginBtn) navLoginBtn.style.display = 'none';
        if(navProfile) {
            navProfile.style.display = 'block';
            document.getElementById('navAvatar').src = user.photoURL || "https://i.ibb.co/0jxSvdfH/channels4-profile.jpg";
            document.getElementById('dropdownName').innerText = (user.displayName || "AGENT").toUpperCase();
            document.getElementById('dropdownEmail').innerText = user.email;
        }
    } else {
        currentUser = null;
        if(overlay) overlay.style.display = 'block';
        if(form) form.style.display = 'none';
        
        // Navbar Update
        if(navLoginBtn) navLoginBtn.style.display = 'block';
        if(navProfile) navProfile.style.display = 'none';
    }
  });
  
  const logoutBtn = document.getElementById('navLogoutBtn');
  if(logoutBtn) {
      logoutBtn.addEventListener('click', () => {
        signOut(auth).then(() => window.location.reload());
      });
  }

  // --- 2. INPUT UI LOGIC ---
  const mainInput = document.getElementById('mainCommentInput');
  const mainWrapper = document.querySelector('.input-wrapper');
  const submitMain = document.getElementById('submitMainBtn');
  const cancelMain = document.getElementById('cancelMainBtn');

  if(mainInput) {
      mainInput.addEventListener('focus', () => {
          mainWrapper.classList.add('active');
          cancelMain.style.display = 'inline-block';
      });

      mainInput.addEventListener('input', () => {
          if(mainInput.value.trim().length > 0) {
              submitMain.classList.add('ready');
              submitMain.disabled = false;
          } else {
              submitMain.classList.remove('ready');
              submitMain.disabled = true;
          }
          mainInput.style.height = 'auto';
          mainInput.style.height = mainInput.scrollHeight + 'px';
      });

      cancelMain.addEventListener('click', () => {
          mainInput.value = '';
          mainWrapper.classList.remove('active');
          submitMain.classList.remove('ready');
          mainInput.style.height = 'auto';
      });

      submitMain.addEventListener('click', () => {
          postComment(mainInput.value, null); 
          mainInput.value = '';
          mainWrapper.classList.remove('active');
          mainInput.style.height = 'auto';
      });
  }

  // --- 3. POST FUNCTION ---
  async function postComment(text, parentId) {
    if(!currentUser || !text.trim()) return;

    const authorName = currentUser.displayName || currentUser.email.split('@')[0];
    const photo = currentUser.photoURL || "https://i.ibb.co/0jxSvdfH/channels4-profile.jpg";

    try {
        await addDoc(collection(db, "comments"), {
            articleId: ARTICLE_ID,
            uid: currentUser.uid,
            author: authorName,
            photo: photo,
            text: text,
            parentId: parentId, 
            timestamp: serverTimestamp()
        });
    } catch (e) {
        console.error("Error posting:", e);
        alert("Transmission Failed.");
    }
  }

  // --- 4. LOAD FEED & BUILD UI ---
  const feed = document.getElementById('commentsFeed');

  function loadFeed() {
    const q = query(collection(db, "comments"), where("articleId", "==", ARTICLE_ID), orderBy("timestamp", "desc"));
    
    onSnapshot(q, (snapshot) => {
        const allComments = [];
        snapshot.forEach(doc => allComments.push({ id: doc.id, ...doc.data() }));

        const parents = allComments.filter(c => !c.parentId);
        const replies = allComments.filter(c => c.parentId);

        feed.innerHTML = ""; 

        if(parents.length === 0) {
            feed.innerHTML = "<div class='loading-text'>NO RECORDS FOUND. START THE DISCUSSION.</div>";
            return;
        }

        parents.forEach(parent => {
            const threadDiv = document.createElement('div');
            threadDiv.className = 'comment-thread';
            threadDiv.innerHTML = buildCommentHTML(parent, false);
            
            const myReplies = replies.filter(r => r.parentId === parent.id);
            myReplies.sort((a,b) => (a.timestamp?.seconds || 0) - (b.timestamp?.seconds || 0));

            const repliesContainer = document.createElement('div');
            repliesContainer.className = 'replies-container';
            
            myReplies.forEach(reply => {
                repliesContainer.innerHTML += buildCommentHTML(reply, true);
            });

            threadDiv.appendChild(repliesContainer);
            feed.appendChild(threadDiv);
        });

        attachDynamicEvents();
    });
  }

  // --- HTML BUILDER (UPDATED WITH DELETE BUTTON) ---
  function buildCommentHTML(data, isReply) {
    const time = data.timestamp ? new Date(data.timestamp.toDate()).toLocaleDateString() : "Just now";
    
    // CHECK OWNERSHIP
    const isOwner = currentUser && currentUser.uid === data.uid;

    return `
        <div class="comment-main" id="comment-${data.id}">
            <img src="${data.photo}" class="user-avatar-small">
            <div class="comment-body">
                <div class="comment-header">
                    <span class="author-name">${data.author}</span>
                    <span class="comment-time">${time}</span>
                </div>
                <div class="comment-content">${data.text}</div>
                
                <div class="comment-actions">
                    ${!isReply ? `<button class="action-btn reply-trigger" data-id="${data.id}">REPLY</button>` : ''}
                    
                    ${isOwner ? `<button class="action-btn delete-trigger" data-id="${data.id}" style="color: #900;">DELETE</button>` : ''}
                </div>
                
                ${!isReply ? `
                <div class="reply-form-container" id="reply-form-${data.id}">
                    <div class="input-row">
                        <img src="${currentUser ? currentUser.photoURL : ''}" class="user-avatar-small" style="width:30px;height:30px;">
                        <div class="input-wrapper active">
                            <textarea id="reply-input-${data.id}" placeholder="Reply..." rows="1"></textarea>
                            <div class="form-actions" style="opacity:1; pointer-events:all;">
                                <button class="cancel-reply" data-id="${data.id}">CANCEL</button>
                                <button class="submit-reply" data-id="${data.id}" style="background:var(--color-red); color:#fff;">REPLY</button>
                            </div>
                        </div>
                    </div>
                </div>` : ''}
            </div>
        </div>
    `;
  }

  // --- EVENTS (UPDATED WITH DELETE LOGIC) ---
  function attachDynamicEvents() {
      // Reply Click
      document.querySelectorAll('.reply-trigger').forEach(btn => {
          btn.addEventListener('click', (e) => {
              if(!currentUser) { alert("Please Login First"); return; }
              const id = e.target.getAttribute('data-id');
              document.getElementById(`reply-form-${id}`).style.display = 'block';
              e.target.style.display = 'none'; 
          });
      });

      // Cancel Reply
      document.querySelectorAll('.cancel-reply').forEach(btn => {
          btn.addEventListener('click', (e) => {
              const id = e.target.getAttribute('data-id');
              document.getElementById(`reply-form-${id}`).style.display = 'none';
              document.querySelector(`.reply-trigger[data-id="${id}"]`).style.display = 'block';
          });
      });

      // Submit Reply
      document.querySelectorAll('.submit-reply').forEach(btn => {
          btn.addEventListener('click', (e) => {
              const id = e.target.getAttribute('data-id');
              const text = document.getElementById(`reply-input-${id}`).value;
              postComment(text, id); 
          });
      });

      // --- NEW: DELETE LOGIC ---
      document.querySelectorAll('.delete-trigger').forEach(btn => {
          btn.addEventListener('click', async (e) => {
              const id = e.target.getAttribute('data-id');
              if(confirm("PERMANENTLY DELETE THIS RECORD?")) {
                  try {
                      await deleteDoc(doc(db, "comments", id));
                  } catch(err) {
                      console.error("Delete failed:", err);
                      alert("Error deleting record.");
                  }
              }
          });
      });
  }

  loadFeed();
</script>
    <audio id="bgAudio" loop>
    <source src="../dark-ambient-emotions-music-259996.mp3" type="audio/mp3">
</audio>
</body>
</html>